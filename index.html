<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Housecall Pro - Customer Support Script</title>

<style>
  :root {
    --primary: #F05A28;
    --primary-dark: #D44A1A;
    --primary-light: #FEF0EB;
    --accent: #00C853;
    --bg: #F7F9FC;
    --card-bg: #ffffff;
    --text-main: #1A202C;
    --text-muted: #718096;
    --radius: 12px;
    --shadow: 0 4px 12px rgba(0,0,0,0.08);
    --success: #00C853;
    --success-light: #E8F5E9;
    --warning: #FF9800;
    --warning-light: #FFF3E0;
  }

  body {
    margin: 0;
    background: var(--bg);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    color: var(--text-main);
    padding: 20px 16px;
  }

  .container {
    max-width: 1200px;
    margin: auto;
  }

  .header {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: #fff;
    padding: 24px;
    border-radius: var(--radius);
    margin-bottom: 24px;
    box-shadow: var(--shadow);
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
  }

  .header-content h1 {
    margin: 0 0 6px 0;
    font-size: 1.8rem;
    font-weight: 700;
  }

  .header-content p {
    margin: 0;
    font-size: 0.95rem;
    opacity: 0.9;
  }

  .tabs {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    border-bottom: 2px solid #E2E8F0;
    margin-bottom: 20px;
  }

  .tab {
    padding: 12px 16px;
    cursor: pointer;
    font-size: 0.92rem;
    font-weight: 600;
    color: var(--text-muted);
    border-bottom: 3px solid transparent;
    transition: all 0.2s ease;
    white-space: nowrap;
  }

  .tab.active {
    color: var(--primary);
    border-bottom: 3px solid var(--primary);
  }

  .card {
    background: var(--card-bg);
    padding: 24px;
    margin-bottom: 20px;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
  }

  h3 {
    margin-top: 0;
    color: var(--primary);
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 18px;
  }

  label {
    display: block;
    font-size: 0.85rem;
    margin-bottom: 6px;
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  input, select, textarea {
    width: 100%;
    padding: 12px;
    border: 2px solid #E2E8F0;
    border-radius: var(--radius);
    margin-bottom: 16px;
    font-size: 0.95rem;
    box-sizing: border-box;
    transition: border-color 0.2s ease;
  }

  input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: var(--primary);
  }

  textarea {
    resize: vertical;
    min-height: 90px;
  }

  .grid-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
  }

  .grid-3 {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 24px;
  }

  @media (max-width: 900px) {
    .grid-3 { grid-template-columns: 1fr 1fr; }
  }

  @media (max-width: 700px) {
    .grid-2, .grid-3 { grid-template-columns: 1fr; }
  }

  .check-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    margin-bottom: 14px;
    font-size: 0.95rem;
    padding: 10px;
    border-radius: 8px;
    transition: background 0.2s ease;
  }

  .check-item:hover {
    background: var(--primary-light);
  }

  .check-item input[type="checkbox"] {
    width: 20px;
    height: 20px;
    margin: 2px 0 0 0;
    cursor: pointer;
    accent-color: var(--primary);
  }

  .badge {
    display: inline-block;
    padding: 6px 14px;
    border-radius: 999px;
    font-size: 0.8rem;
    font-weight: 700;
    text-transform: uppercase;
    margin-bottom: 12px;
  }

  .badge-trial {
    background: var(--warning-light);
    color: #E65100;
  }

  .badge-active {
    background: var(--success-light);
    color: #1B5E20;
  }

  .badge-support {
    background: var(--primary-light);
    color: var(--primary-dark);
  }

  .actions {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
    margin-top: 20px;
  }

  @media (max-width: 700px) {
    .actions { grid-template-columns: 1fr; }
  }

  .btn {
    padding: 14px 20px;
    border-radius: var(--radius);
    border: none;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .btn-primary { background: var(--primary); color: #fff; }
  .btn-primary:hover { background: var(--primary-dark); }

  .btn-success { background: var(--success); color: #fff; }
  .btn-success:hover { background: #00A344; }

  .btn-secondary { background: #718096; color: #fff; }
  .btn-secondary:hover { background: #4A5568; }

  .info-alert {
    background: var(--primary-light);
    border-left: 4px solid var(--primary);
    padding: 16px;
    margin-bottom: 20px;
    border-radius: var(--radius);
    font-size: 0.9rem;
  }

  .info-alert strong {
    color: var(--primary);
  }

  .quick-links {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 12px;
    margin-top: 16px;
  }

  .quick-link {
    background: var(--primary-light);
    padding: 12px 16px;
    border-radius: var(--radius);
    text-align: center;
    font-weight: 600;
    color: var(--primary);
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.9rem;
  }

  .quick-link:hover {
    background: var(--primary);
    color: white;
  }

  .timeline {
    border-left: 3px solid var(--primary);
    padding-left: 16px;
  }
  .event { margin-bottom: 18px; }
  .event .date { 
    font-size: 0.8rem; 
    font-weight: 600; 
    color: var(--primary); 
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  .event .type {
    font-size: 0.75rem;
    background: var(--primary-light);
    padding: 4px 10px;
    border-radius: 999px;
    display: inline-block;
    margin: 6px 0;
    font-weight: 600;
    color: var(--primary);
  }
  .event .summary { 
    font-size: 0.9rem; 
    color: var(--text-muted); 
    line-height: 1.5;
  }

  .toast-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 3000;
  }
  .toast {
    background: var(--success);
    color: #fff;
    padding: 14px 20px;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    margin-bottom: 10px;
    opacity: 0;
    transform: translateY(-10px);
    transition: opacity 0.3s ease, transform 0.3s ease;
    font-size: 0.95rem;
    font-weight: 600;
  }
  .toast.show {
    opacity: 1;
    transform: translateY(0);
  }

  .tab-content { display: none; }
  .tab-content.active { display: block; }

  .header-btn {
    background: rgba(255,255,255,0.2);
    color: white;
    border: 2px solid rgba(255,255,255,0.6);
    padding: 10px 22px;
    border-radius: 999px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease;
  }

  .header-btn:hover {
    background: rgba(255,255,255,0.35);
  }

  .ticket-banner {
    background: linear-gradient(135deg, #7B4FBF 0%, #A87FE0 100%);
    color: white;
    padding: 20px 28px;
    border-radius: var(--radius);
    margin-bottom: 20px;
    box-shadow: var(--shadow);
  }

  .ticket-banner .ticket-label {
    font-size: 0.85rem;
    font-weight: 700;
    opacity: 0.85;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 4px;
  }

  .ticket-banner .ticket-number {
    font-size: 2rem;
    font-weight: 800;
  }

</style>
</head>

<body>

<div class="toast-container" id="toastContainer"></div>

<div class="container">

  <div class="header">
    <div class="header-content">
      <h1>üîß Housecall Pro Support</h1>
      <p>Customer Success & Sales Script</p>
    </div>
    <button class="header-btn">Support Agent Dashboard</button>
  </div>

  <div class="info-alert">
    <strong>‚ÑπÔ∏è Support Tips:</strong> Always verify account ownership before discussing sensitive information. Check the Help Center for up-to-date troubleshooting guides.
  </div>

  <div class="ticket-banner">
    <div class="ticket-label">Support Ticket</div>
    <div class="ticket-number">#HCP-387</div>
  </div>

  <div class="tabs">
    <div class="tab active" data-tab="account">Account Info</div>
    <div class="tab" data-tab="business">Business Details</div>
    <div class="tab" data-tab="issue">Support Issue</div>
    <div class="tab" data-tab="solution">Solution & Actions</div>
    <div class="tab" data-tab="workflow">Call Workflow</div>
    <div class="tab" data-tab="history">Call History</div>
  </div>

  <!-- TAB: ACCOUNT INFO -->
  <div id="account" class="tab-content active">
    <div class="card">
      <h3>Account Information</h3>

      <div class="grid-2">
        <div><label>First Name</label><input id="firstName"></div>
        <div><label>Last Name</label><input id="lastName"></div>
        <div><label>Business Name</label><input id="businessName"></div>
        <div><label>Phone Number</label><input id="phoneNumber" type="tel"></div>
        <div><label>Email Address</label><input id="emailAddress" type="email"></div>
        <div><label>Date of Birth</label><input id="dateOfBirth" type="date"></div>
      </div>

      <div>
        <label>Business Address</label>
        <input id="businessAddress" placeholder="Street, City, State, ZIP">
      </div>

      <div class="grid-2">
        <div>
          <label>Account Status</label>
          <!-- CHANGE 2: Default to "Active Subscriber" -->
          <select id="accountStatus" onchange="updateAccountBadge()">
            <option value="">Select status...</option>
            <option value="trial">Free Trial</option>
            <option value="active" selected>Active Subscriber</option>
            <option value="past-due">Past Due</option>
            <option value="canceled">Canceled</option>
          </select>
        </div>

        <div>
          <label>Subscription Plan</label>
          <!-- CHANGE 3: Default to "Essentials" -->
          <select id="subscriptionPlan">
            <option value="">Select plan...</option>
            <option value="basic">Basic</option>
            <option value="essentials" selected>Essentials</option>
            <option value="max">Max</option>
            <option value="enterprise">Enterprise</option>
          </select>
        </div>
      </div>

      <div id="accountBadgeContainer"></div>

      <div class="grid-2">
        <div><label>Account ID</label><input id="accountId" placeholder="HCP-######"></div>
        <div><label>Sign-Up Date</label><input id="signupDate" type="date"></div>
      </div>
    </div>
  </div>

  <!-- TAB: BUSINESS DETAILS -->
  <div id="business" class="tab-content">
    <div class="card">
      <h3>Business Details</h3>

      <div class="grid-2">
        <div>
          <label>Industry Type</label>
          <!-- CHANGE 4a: Default to "HVAC" -->
          <select id="industryType">
            <option value="">Select industry...</option>
            <option value="hvac" selected>HVAC</option>
            <option value="plumbing">Plumbing</option>
            <option value="electrical">Electrical</option>
            <option value="handyman">Handyman</option>
            <option value="cleaning">Home Cleaning</option>
            <option value="landscaping">Landscaping & Lawn Care</option>
            <option value="pest-control">Pest Control</option>
            <option value="appliance">Appliance Repair</option>
            <option value="carpet-cleaning">Carpet Cleaning</option>
            <option value="garage-door">Garage Door</option>
            <option value="pool">Pool Service</option>
            <option value="other">Other</option>
          </select>
        </div>

        <!-- CHANGE 4b: Default employees to 75 -->
        <div><label>Number of Employees</label><input id="numEmployees" type="number" placeholder="1-100+" value="75"></div>
      </div>

      <div class="grid-3">
        <div><label>Number of Technicians</label><input id="numTechs" type="number"></div>
        <div><label>Avg Jobs Per Month</label><input id="avgJobs" type="number"></div>
        <div><label>Avg Job Value</label><input id="avgJobValue" placeholder="$000"></div>
      </div>

      <div>
        <label>Primary Pain Points (Before HCP)</label>
        <textarea id="painPoints" placeholder="e.g., missed calls, scheduling issues, slow payments..."></textarea>
      </div>

      <div>
        <label>Current Goals</label>
        <textarea id="businessGoals" placeholder="e.g., grow revenue, hire more techs, improve customer reviews..."></textarea>
      </div>
    </div>
  </div>

  <!-- TAB: SUPPORT ISSUE -->
  <div id="issue" class="tab-content">
    <div class="card">
      <h3>Support Issue / Call Reason</h3>

      <div>
        <label>Call Type</label>
        <select id="callType">
          <option value="">Select type...</option>
          <option value="technical">Technical Support</option>
          <option value="billing">Billing Question</option>
          <option value="training">Training / How-To</option>
          <option value="feature">Feature Request</option>
          <option value="sales">Sales Inquiry</option>
          <option value="upgrade">Upgrade Request</option>
          <option value="cancel">Cancellation</option>
          <option value="other">Other</option>
        </select>
      </div>

      <div>
        <label>Issue Category</label>
        <select id="issueCategory">
          <option value="">Select category...</option>
          <option value="app">Mobile App Issue</option>
          <option value="scheduling">Scheduling / Dispatching</option>
          <option value="payments">Payments / Processing</option>
          <option value="invoicing">Invoicing / Estimates</option>
          <option value="customer-communication">Customer Communication</option>
          <option value="integrations">Integrations (QuickBooks, etc.)</option>
          <option value="reports">Reports / Analytics</option>
          <option value="team-management">Team Management</option>
          <option value="account-access">Account Access / Login</option>
          <option value="other">Other</option>
        </select>
      </div>

      <div>
        <label>Issue Description</label>
        <textarea id="issueDescription" placeholder="Customer's description of the issue in their own words..."></textarea>
      </div>

      <div>
        <label>Priority Level</label>
        <select id="priorityLevel">
          <option value="low">Low - General Question</option>
          <option value="medium">Medium - Affecting Work</option>
          <option value="high">High - Blocking Critical Tasks</option>
          <option value="urgent">Urgent - Business Down</option>
        </select>
      </div>
    </div>
  </div>

  <!-- TAB: SOLUTION & ACTIONS -->
  <div id="solution" class="tab-content">
    <div class="card">
      <h3>Solution & Actions Taken</h3>

      <div>
        <label>Solution Provided</label>
        <textarea id="solutionProvided" placeholder="Describe the steps taken to resolve the issue..."></textarea>
      </div>

      <div class="grid-2">
        <div>
          <label>Resolution Status</label>
          <select id="resolutionStatus">
            <option value="">Select status...</option>
            <option value="resolved">Resolved</option>
            <option value="partially-resolved">Partially Resolved</option>
            <option value="escalated">Escalated to Tech Team</option>
            <option value="follow-up">Requires Follow-Up</option>
            <option value="unresolved">Unresolved</option>
          </select>
        </div>

        <div>
          <label>Follow-Up Required?</label>
          <select id="followUpRequired">
            <option value="no">No Follow-Up Needed</option>
            <option value="yes-24hr">Yes - Within 24 Hours</option>
            <option value="yes-48hr">Yes - Within 48 Hours</option>
            <option value="yes-scheduled">Yes - Scheduled Callback</option>
          </select>
        </div>
      </div>

      <h3 style="margin-top: 30px;">Quick Actions</h3>
      <div class="quick-links">
        <div class="quick-link" onclick="showToast('Screen sharing link sent')">Send Screen Share Link</div>
        <div class="quick-link" onclick="showToast('Help article sent via email')">Send Help Article</div>
        <div class="quick-link" onclick="showToast('Training video sent')">Send Training Video</div>
        <div class="quick-link" onclick="showToast('Account refreshed')">Refresh Account</div>
        <div class="quick-link" onclick="showToast('Password reset email sent')">Reset Password</div>
        <div class="quick-link" onclick="showToast('Billing details updated')">Update Billing</div>
      </div>
    </div>
  </div>

  <!-- TAB: WORKFLOW -->
  <div id="workflow" class="tab-content">
    <div class="card">
      <h3>Support Call Workflow</h3>

      <div class="check-item"><input type="checkbox"><span>Greet customer and verify account (name + email or account ID)</span></div>
      <div class="check-item"><input type="checkbox"><span>Ask "What brings you in today?" and listen actively</span></div>
      <div class="check-item"><input type="checkbox"><span>Confirm understanding of the issue by repeating it back</span></div>
      <div class="check-item"><input type="checkbox"><span>Check account status and subscription plan</span></div>
      <div class="check-item"><input type="checkbox"><span>Use screen sharing if technical issue (with permission)</span></div>
      <div class="check-item"><input type="checkbox"><span>Provide clear, step-by-step solution</span></div>
      <div class="check-item"><input type="checkbox"><span>Confirm the issue is resolved before ending call</span></div>
      <div class="check-item"><input type="checkbox"><span>Document solution in CRM system</span></div>
      <div class="check-item"><input type="checkbox"><span>Send follow-up email with resources (if applicable)</span></div>
      <div class="check-item"><input type="checkbox"><span>Thank customer and invite them to call anytime</span></div>

      <div class="actions">
        <button class="btn btn-success" onclick="showToast('Call notes saved successfully')">Save Call Notes</button>
        <button class="btn btn-primary" onclick="showToast('Follow-up task created')">Create Follow-Up Task</button>
        <button class="btn btn-secondary" onclick="showToast('Ticket escalated to Level 2 support')">Escalate to Tech Team</button>
      </div>
    </div>
  </div>

  <!-- TAB: CALL HISTORY -->
  <div id="history" class="tab-content">
    <div class="card">
      <h3>Recent Call History</h3>

      <div class="timeline">
        <div class="event">
          <div class="date">Feb 15, 2026 - 10:45 AM</div>
          <div class="type">Billing Inquiry</div>
          <div class="summary">Customer asked about upgrading from Basic to Essentials plan. Provided pricing details and benefits. Customer will decide by end of week.</div>
        </div>
        <div class="event">
          <div class="date">Feb 10, 2026 - 2:30 PM</div>
          <div class="type">Technical Support</div>
          <div class="summary">Issue with mobile app not syncing. Resolved by clearing cache and reinstalling app. Customer confirmed working.</div>
        </div>
        <div class="event">
          <div class="date">Feb 5, 2026 - 9:15 AM</div>
          <div class="type">Training</div>
          <div class="summary">Requested help setting up online booking. Walked through setup process. Sent follow-up video tutorial.</div>
        </div>
        <div class="event">
          <div class="date">Jan 28, 2026 - 4:20 PM</div>
          <div class="type">Feature Request</div>
          <div class="summary">Requested ability to send batch text messages. Submitted feature request to product team. Provided workaround using customer tags.</div>
        </div>
        <div class="event">
          <div class="date">Jan 22, 2026 - 11:00 AM</div>
          <div class="type">Onboarding Call</div>
          <div class="summary">Initial onboarding call. Set up account, added first technician, created sample job. Customer excited to start using the platform.</div>
        </div>
      </div>

      <div class="actions" style="margin-top: 24px;">
        <button class="btn btn-primary" onclick="showToast('Full call history exported')">Export Call History</button>
      </div>
    </div>
  </div>

</div>

<script>
  /* ----- Tabs ----- */
  document.querySelectorAll(".tab").forEach(tab => {
    tab.addEventListener("click", () => {
      document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
      tab.classList.add("active");
      document.querySelectorAll(".tab-content").forEach(c => c.classList.remove("active"));
      document.getElementById(tab.dataset.tab).classList.add("active");
    });
  });

  /* ----- Query Params ----- */
  const qp = new URLSearchParams(window.location.search);

  function getQP(...keys) {
    for (let k of keys) {
      const v = qp.get(k);
      if (v && v.trim() !== "") return v;
    }
    return "";
  }

  function cleanPhone(input="") {
    return input.replace(/[\[\]\(\)]/g,"").trim();
  }

  /* ----- Defaults (CHANGE 1: businessName no longer includes "Thompson") ----- */
  const defaults = {
    firstName: "Mike",
    lastName: "Thompson",
    businessName: "ABC HVAC Services",
    phoneNumber: "(858) 842-5746",
    emailAddress: "alex.johnson@email.com",
    dateOfBirth: "1986-05-10",
    businessAddress: "1234 Main St, San Diego, CA 92101",
    accountId: "HCP-482910",
    signupDate: "2024-06-15"
  };

  function setField(id, val) {
    const el = document.getElementById(id);
    if (el) el.value = val;
  }

  setField("firstName",       getQP("firstName","FNAME","fname")           || defaults.firstName);
  setField("lastName",        getQP("lastName","LNAME","lname")            || defaults.lastName);
  setField("businessName",    getQP("businessName","business")             || defaults.businessName);
  setField("phoneNumber",     cleanPhone(getQP("phoneNumber","PHONE","phone")) || defaults.phoneNumber);
  setField("emailAddress",    getQP("emailAddress","EMAIL","email")        || defaults.emailAddress);
  setField("dateOfBirth",     getQP("dateOfBirth","DOB","dob")             || defaults.dateOfBirth);
  setField("businessAddress", getQP("businessAddress","address")           || defaults.businessAddress);
  setField("accountId",       getQP("accountId","account")                 || defaults.accountId);
  setField("signupDate",      getQP("signupDate")                          || defaults.signupDate);

  /* ----- Account Status Badge ----- */
  function updateAccountBadge() {
    const status = document.getElementById("accountStatus").value;
    const container = document.getElementById("accountBadgeContainer");

    if (!status) { container.innerHTML = ""; return; }

    const map = {
      trial:    { cls: "badge-trial",   text: "üÜì Free Trial" },
      active:   { cls: "badge-active",  text: "‚úÖ Active Subscriber" },
      "past-due": { cls: "badge-trial", text: "‚ö†Ô∏è Past Due" },
      canceled: { cls: "badge-support", text: "‚ùå Canceled" }
    };

    const b = map[status] || {};
    container.innerHTML = `<span class="badge ${b.cls}">${b.text}</span>`;
  }
  window.updateAccountBadge = updateAccountBadge;

  // Auto-trigger badge since Active Subscriber is pre-selected
  updateAccountBadge();

  /* ----- Toast System ----- */
  function showToast(text) {
    const container = document.getElementById("toastContainer");
    const toast = document.createElement("div");
    toast.className = "toast";
    toast.innerText = text + " ‚úì";
    container.appendChild(toast);
    setTimeout(() => toast.classList.add("show"), 10);
    setTimeout(() => { toast.classList.remove("show"); setTimeout(() => toast.remove(), 300); }, 3000);
  }
  window.showToast = showToast;
</script>

</body>
</html>
